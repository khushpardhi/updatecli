sources:
  getLatestAmi:
    name: Get latest AMI from AWS
    kind: aws/ami
    spec:
      region: ap-south-1
      sortby: creationDateDesc
      owners:
        - self  # replace 'self' with an AWS account ID or 'amazon' if needed

targets:
  updateAmiInConfig:
    name: Update AWS AMI in config.json
    kind: json
    sourceid: getLatestAmi
    spec:
      file: fetch_latest_aws_ami/input.json
      key: firstName
